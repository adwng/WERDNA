<?xml version="1.0"?>

<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
    
    <xacro:include filename='consts.xacro'/>

    <!-- Limits -->
    <xacro:macro name="hip_limits">
        <limit lower="${hip_low_limit}" upper="${hip_high_limit}" velocity="${velocity}" effort="${effort}"/> <!-- effort = 7 -->
    </xacro:macro>
    <xacro:macro name="knee_limits">
        <limit lower="${knee_low_limit}" upper="${knee_high_limit}" velocity="${velocity}" effort="${effort}"/>
    </xacro:macro>

    <!-- inertial-base_link-joint -->
    <joint name="inertial_joint" type="fixed">
        <parent link="base_link"/>
        <child link="inertial_link"/>
    </joint>

    <!-- left_hip_joint -->
    <joint name="left_hip_joint" type="revolute">
        <origin xyz="-0.1 0.0 0.0" rpy="0.0 0.0 0.0"/>
        <parent link="base_link"/>
        <child link="left_hip_link"/>
        <axis xyz="-1.0 0.0 0.0"/>
        <xacro:hip_limits></xacro:hip_limits>
        <xacro:if value="${use_dynamics}">
            <xacro:hip_joint_dynamics></xacro:hip_joint_dynamics>
        </xacro:if>
    </joint>

    <!-- right_hip_joint -->
    <joint name="right_hip_joint" type="revolute">
        <origin xyz="0.1 0.0 0.0" rpy="0.0 0.0 0.0"/>
        <parent link="base_link"/>
        <child link="left_knee_link"/>
        <axis xyz="1.0 0.0 0.0"/>
        <xacro:hip_limits></xacro:hip_limits>
        <xacro:if value="${use_dynamics}">
            <xacro:hip_joint_dynamics></xacro:hip_joint_dynamics>
        </xacro:if>
    </joint>

    <!-- left_knee_joint -->
    <joint name="left_knee_joint" type="revolute">
        <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
        <parent link="left_hip_link"/>
        <child link="left_knee_link"/>
        <axis xyz="-1.0 0.0 0.0"/>
        <xacro:knee_limits></xacro:knee_limits>
        <xacro:if value="${use_dynamics}">
            <xacro:knee_joint_dynamics></xacro:knee_joint_dynamics>
        </xacro:if>
    </joint>
    <joint name="right_knee_joint" type="revolute">
        <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
        <parent link="right_hip_link"/>
        <child link="right_knee_link"/>
        <axis xyz="1.0 0.0 0.0"/>
        <xacro:knee_limits></xacro:knee_limits>
        <xacro:if value="${use_dynamics}">
            <xacro:knee_joint_dynamics></xacro:knee_joint_dynamics>
        </xacro:if>
    </joint>

    <!-- left_wheel_joint -->
    <joint name="left_wheel_joint" type="continuous">
        <origin xyz="0.0 -0.1 0.0" rpy="0 0 0"/>
        <parent link="left_knee_link"/>
        <child link="left_wheel"/>
        <axis xyz="-1.0 0.0 -0.0"/>
    </joint>

    <joint name="right_wheel_joint" type="continuous">
        <origin xyz="0.0 -0.1 0.0" rpy="0 0 0"/>
        <parent link="right_knee_link"/>
        <child link="right_wheel"/>
        <axis xyz="-1.0 0.0 -0.0"/>
    </joint>


</robot>
